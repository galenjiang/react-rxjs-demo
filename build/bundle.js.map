{"version":3,"sources":["webpack:///webpack/bootstrap 88ab6c90ec0a29d87c78","webpack:///./src/entry.js","webpack:///./src/commentpartner.js","webpack:///external \"marked\"","webpack:///external \"jQuery\""],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 88ab6c90ec0a29d87c78\n **/","import { CommentList, CommentForm } from \"./commentpartner\";\r\nimport $ from \"$\";\r\nlet CommentBox = React.createClass({\r\n  getInitialState: function() {\r\n    return {\r\n      data: []\r\n    };\r\n  },\r\n  render: function() {\r\n    return (\r\n      <div className = \"commentBox\">\r\n        <h1> Comments </h1>\r\n        <CommentList data = { this.state.data } />\r\n        <CommentForm onCommentSubmit = {this.handleCommentSubmit} />\r\n      </div>\r\n    );\r\n  },\r\n  componentDidMount: function() {\r\n    this.loadCommentsFromServer();\r\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\r\n  },\r\n  loadCommentsFromServer: function() {\r\n    $.ajax({\r\n      url: this.props.url,\r\n      dataType: 'json',\r\n      cache: false,\r\n      success: function(data) {\r\n        this.setState({\r\n          data: data\r\n        });\r\n      }.bind(this),\r\n      error: function(xhr, status, err) {\r\n        console.error(this.props.url, status, err.toString());\r\n      }.bind(this)\r\n    });\r\n  },\r\n  handleCommentSubmit: function(comment) {\r\n    //  Todo: submit to the server and refresh the list\r\n    $.ajax({\r\n      url: this.props.url,\r\n      dataType: 'json',\r\n      type: 'POST',\r\n      data: comment,\r\n      success: function(data) {\r\n        this.setState({\r\n          data: data\r\n        });\r\n      }.bind(this),\r\n      error: function(xhr, status, err) {\r\n        console.error(this.props.url, status, err.toString());\r\n      }.bind(this)\r\n    });\r\n  },\r\n\r\n});\r\n\r\nReactDOM.render(\r\n    <CommentBox url = \"data.json\" pollInterval = \"10000\" />,\r\n    document.getElementById(`example`)\r\n)\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/entry.js\n **/","import marked from \"marked\";\r\n// 评论列表\r\nvar CommentList = React.createClass({\r\n  render: function() {\r\n\r\n    var commentNodes = this.props.data.map(function (comment) {\r\n      return (\r\n        <Comment author={comment.author}>\r\n          {comment.text}\r\n        </Comment>\r\n      );\r\n    });\r\n    return (\r\n      <div className=\"commentList\">\r\n        {commentNodes}\r\n      </div>\r\n    );\r\n  }\r\n});\r\n// 评论详情 <h2>author</h2> <span></span>\r\nvar Comment = React.createClass({\r\n  rawMarkup: function() {\r\n    // this.props.children 获取tag包裹的html\r\n    var rawMarkup = marked(this.props.children.toString(), {sanitize: true});\r\n    return { __html: rawMarkup };\r\n  },\r\n  render: function(){\r\n    return (\r\n      <div className=\"comment\">\r\n        <h2 className=\"commentAuthor\">\r\n          {this.props.author}\r\n        </h2>\r\n        <span dangerouslySetInnerHTML={this.rawMarkup()}></span>\r\n      </div>\r\n    )\r\n  }\r\n})\r\nvar CommentForm = React.createClass({\r\n  render: function() {\r\n    return (\r\n        <form className=\"commentForm\" onSubmit={this.handleSubmit}>\r\n         <input type=\"text\" placeholder=\"Your name\" ref=\"author\" />\r\n         <input type=\"text\" placeholder=\"Say something...\" ref=\"text\" />\r\n        <input type=\"submit\" value=\"Post\" />\r\n      </form>\r\n    );\r\n  },\r\n  handleSubmit: function(e){\r\n    e.preventDefault();\r\n    var author = this.refs.author.value.trim();\r\n    var text = this.refs.text.value.trim();\r\n    if(!author || !text){\r\n      return false;\r\n    }\r\n    this.props.onCommentSubmit({author: author, text: text});\r\n    this.refs.author.value = \"\";\r\n    this.refs.text.value = \"\";\r\n    return false;\r\n  },\r\n\r\n});\r\n\r\n\r\n\r\n\r\nexport {CommentList, CommentForm}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/commentpartner.js\n **/","module.exports = marked;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"marked\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = jQuery;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"jQuery\"\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}